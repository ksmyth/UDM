HOWTO make a Windows Udm release (for Udm maintainers only)
Currently only Kevin Smyth <ksmyth@isis.vanderbilt.edu> makes Udm releases
First see UDM_compile_guideVS2008.txt

set JAVA_HOME=C:\Program Files\Java\jdk1.5.0_22
set JDK_PATH=C:\Program Files\Java\jdk1.5.0_22
set UDM_PATH=
set UDM_3RDPARTY_PATH=
set GREAT_PATH=
set GREAT_3RDPARTY_PATH=

Update with new version, info:
 /UDM/trunk/InnoSetup/udm_innosetupVS2008.iss (x3+GME version)
 /UDM/trunk/Projects/Win32/VC10/src/UdmDll/UdmDll.rc
 /UDM/trunk/Projects/Win32/VC9/src/UdmDll/UdmDll.rc
 /UDM/trunk/include/UdmBase.h
 /UDM/trunk/releaseinfo.txt
 /UDM/trunk/Projects/Win32/VC10/src/UdmCli/Properties/AssemblyInfo.cs
ci -m 'Prepare for release 3.2.8'

svn cp https://svn.isis.vanderbilt.edu/MoBIES/UDM/trunk/ https://svn.isis.vanderbilt.edu/MoBIES/UDM/tags/A3_2_8
svn co https://svn.isis.vanderbilt.edu/MoBIES/UDM/tags/A3_2_8 Udm

rem VS10 cmd prompt
rem Building MetaGME2UML is a requirement for a Udm release
set PATH=%UDM_PATH%\bin;%PATH%
msbuild "%GREAT_PATH%\Tools\MetaGME2UMX\MetaGME2UMX Interpreters\MetaGME2UML_interpreterVS2010.vcxproj" /t:Rebuild /p:Configuration=Release

msbuild "c:\Program Files\GME\SDK\DecoratorLib\DecoratorLib.sln" /p:Configuration=Debug /t:Rebuild
msbuild "c:\Program Files\GME\SDK\DecoratorLib\DecoratorLib.sln" /p:Configuration=Release /t:Rebuild

set PATH=%UDM_PATH%\bin;%PATH%
c:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild "%UDM_PATH%"\make.msbuild /t:BuildVS9;BuildVS10;UdmCliGen

pushd %UDM_PATH%\judm
"%UDM_PATH%\scripts\vc9-env.bat"
set Path=%UDM_3RDPARTY_PATH%\apache-ant-1.7.1\bin;%PATH%
set ANT_HOME=
set ANT_PATH=
"%UDM_3RDPARTY_PATH%"\apache-ant-1.7.1\bin\ant

msbuild "%UDM_PATH%"\make.msbuild /t:Installer
# rename InnoSetup output UDM_r3_2_8.exe
# test installer http://kms1/svn/installs/ vm_installs_test.py secrets-installtest2.py

export JOB_NAME=Udm
export BUILD_NUMBER=3.2.8
pushd %UDM_PATH%
"%GREAT_PATH%"\common-scripts\hudson_archive_pdbs.cmd
pushd %GREAT_PATH%
"%GREAT_PATH%"\common-scripts\hudson_archive_pdbs.cmd
"\Program Files\Debugging Tools for Windows (x86)\symstore.exe" add /r /f "%UDM_PATH%" /s \\kms1\symbols /t Udm /v "3.2.8"
"\Program Files\Debugging Tools for Windows (x86)\symstore.exe" add /r /f "%GREAT_PATH%" /s \\kms1\symbols /t UdmGReAT /v "3.2.8"

# ------------------------
# bash
svn export https://svn.isis.vanderbilt.edu/MoBIES/UDM/tags/A3_2_8 Udm_source_r3.2.8
/c/Program\ Files/7-Zip/7z.exe a -r Udm_source_r3.2.8.zip Udm_source_r3.2.8/
cp Udm_source_r3.2.8/releaseinfo.txt UDM_Release_Notes.txt 

ssh ksmyth@repo.isis.vanderbilt.edu mkdir /project/www/Download/UDM/3.2.8/
scp UDM_Release_Notes.txt UDM_r3_2_8.exe Udm_source_r3.2.8.zip ksmyth@repo.isis.vanderbilt.edu:/project/www/Download/UDM/3.2.8/
ssh ksmyth@repo.isis.vanderbilt.edu chmod -R a+r /project/www/Download/UDM/3.2.8/

# For GReAT release:
"\Program Files\Debugging Tools for Windows (x86)\symstore.exe" add /r /f "%GREAT_PATH%" /s \\kms1\symbols /t GReAT /v "1.7.5"
svn export https://svn.isis.vanderbilt.edu/MoBIES/GReAT/tags/A1_7_5 GReAT_source_r1.7.5
svn export https://svn.isis.vanderbilt.edu/isis-common/trunk/3rdparty/GReAT_VS2010 GReAT_3rdparty_compile-deps
/c/Program\ Files/7-Zip/7z.exe a -r GReAT_source_r1.7.5{.zip,}
/c/Program\ Files/7-Zip/7z.exe a -r GReAT_3rdparty_compile-deps{.zip,}
cp GReAT_source_r1.7.5/releaseinfo.txt  GReAT_Release_Notes.txt
ssh ksmyth@repo.isis.vanderbilt.edu mkdir /project/www/Download/GReAT/1.7.5
scp GReAT_Release_Notes.txt GReAT_r1_7_5.exe GReAT_source_r1.7.5.zip GReAT_3rdparty_compile-deps.zip ksmyth@repo.isis.vanderbilt.edu:/project/www/Download/GReAT/1.7.5
ssh ksmyth@repo.isis.vanderbilt.edu chmod -R a+r /project/www/Download/GReAT/1.7.5

# For Udm and GReAT
# On http://repo add Folder 3.2.8; add Download UDM_Release_Notes.txt, UDM_r3_2_8.exe, Udm_source_r3.2.8.zip
# JIRA: make release
# email announcement
# change http://kms1/svn/installs/install.py sync to installs/install.exe, https://svn.isis.vanderbilt.edu/isis-common/trunk/common-scripts/install.exe
# upgrade on build machines


# GME Release
ssh ksmyth@repo.isis.vanderbilt.edu mkdir /project/www/Download/GME/11.3.23/
scp README.txt GME-11.3.23.msi GME-11_3_23_src.zip ksmyth@repo.isis.vanderbilt.edu:/project/www/Download/GME/11.3.23/
ssh ksmyth@repo.isis.vanderbilt.edu chmod -R a+r /project/www/Download/GME/11.3.23/



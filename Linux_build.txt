Linux_build.txt
Software requirements and instructions to compile UDM source files on
Linux

Requirements:
-------------
- GCC 3.x (or later)
- Xerces-C++ 2.5.0
- Xalan-C++ 1.8.0
- SWIG 1.3.23 (or later)
- minizip
- cppunit
- pccts
- gcc-java 4.x (or later) or Java SDK 1.4.2 (or later)
- ant
- junit

Build-environment preparation (RHEL 4):
----------------------------------------------
- install the following rpms from our repository:
  xerces-c, xerces-c-devel, xalan-c, xalan-c-devel, minizip, minizip-devel,
  minizip-libs, pccts, swig1324, cppunit, cppunit-devel
- if the system is registered with RHN and subscribed to the
  "Extras" channel, then install either java-1.4.2-bea or java-1.4.2-ibm:
  up2date java-1.4.2-bea java-1.4.2-bea-devel
  up2date java-1.4.2-ibm java-1.4.2-ibm-devel
- import JPackage signing key
  rpm --import http://www.jpackage.org/jpackage.asc
- add the following lines into /etc/sysconfig/rhn/sources
  yum jpackage16-generic http://mirrors.dotsrc.org/jpackage/1.6/generic/free
  yum jpackage16-rhel40 http://mirrors.dotsrc.org/jpackage/1.6/redhat-el-4.0/free
- install ant, junit:
  up2date ant ant-junit ant-trax junit xerces-j2 xalan-j2 xml-commons-apis
- if neither java-1.4.2-bea nor java-1.4.2-ibm is installed,
  then:
  - download and install Java 2 SDK, v 1.4.2_10 (J2SE)
  - add the following line into /etc/sysconfig/rhn/sources
  yum jpackage16-generic-non-free http://mirrors.dotsrc.org/jpackage/1.6/generic/non-free
  - install java-1.4.2-sun-compat

Build-environment preparation (Fedora 5, 6):
----------------------------------------------
- install the following rpms (and required dependencies) from
  Fedora Core/Extras:
  ant, ant-junit, ant-trax, cppunit-devel, java-sdk, junit,
  swig, xalan-j2, xerces-c, xerces-c-devel, xerces-j2 and
  xml-commons-apis
- install the following rpms from our repository: xalan-c,
  xalan-c-devel, minizip, minizip-devel, minizip-libs, pccts

Build-environment preparation (Fedora Core 4):
----------------------------------------------
- install the following rpms (and required dependencies) from
  Fedora Core/Extras:
  ant, ant-junit, ant-trax, cppunit-devel, java-sdk, junit,
  swig, xalan-j2, xerces-j2 and xml-commons-apis
- install the following rpms from our repository: xerces-c,
  xerces-c-devel, xalan-c, xalan-c-devel, minizip, minizip-devel,
  minizip-libs, pccts

Build-environment preparation (Fedora Core 3):
----------------------------------------------
- install the pccts rpm from Fedora
- install the following rpms from the jpackage repository:
  java-sun-compat, ant, ant-junit, ant-trax, junit and xml-commons-apis
- install the Java jdk rpm from Sun
- install the following rpms from our repository: xerces-c,
  xerces-c-devel, xalan-c, xalan-c-devel, minizip, minizip-devel,
  minizip-libs, cppunit, cppunit-devel, swig1324

Building:
---------------------
- build udm, judm and the tests on Windows;
  run %UDM_PATH%\etc\ArchiveModelFiles.bat; it will create
  %UDM_PATH%\model-files.zip, an archive with the model data files generated
  on Windows
- clean judm and use "Clean solution" to clean the tests and udm
- copy or share the tree obtained above to your Linux installation
- in the top directory run
  autoreconf -i
  ./configure
  make clean
  make
- to run the tests launch the following command in the top directory:
  make check
- to build the binary and source rpms launch the following command in
  the top directory:
  make rpms
